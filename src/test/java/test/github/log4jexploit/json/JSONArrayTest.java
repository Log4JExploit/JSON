package test.github.log4jexploit.json;

import github.log4jexploit.json.JSONArray;
import github.log4jexploit.json.JSONObject;
import org.junit.jupiter.api.Test;

import java.util.List;

import static org.junit.jupiter.api.Assertions.*;

public class JSONArrayTest {

    @Test
    void testToJSONStringSingle() {
        JSONArray array = new JSONArray();
        array.add("name");
        assertEquals("[\"name\"]", array.toJSONString());
    }

    @Test
    void testToJSONStringEmpty() {
        JSONArray array = new JSONArray();
        assertEquals("[]", array.toJSONString());
    }

    @Test
    void testToJSONStringMultiple() {
        JSONArray array = new JSONArray();
        array.add("format");
        array.add("is");
        array.add("json");
        assertEquals("[\"format\", \"is\", \"json\"]", array.toJSONString());
    }

    @Test
    void testToJSONStringNumbers() {
        JSONArray array = new JSONArray();
        array.add("format");
        array.add(3);
        array.add(5.1f);
        array.add(false);
        array.add('A');
        assertEquals("[\"format\", 3, 5.1, false, \"A\"]", array.toJSONString());
    }

    @Test
    void testConstructorWithList() {
        JSONArray array = new JSONArray(List.of("3", 4, false, new JSONObject()));
        assertEquals("[\"3\", 4, false, {}]", array.toJSONString());
    }

}
